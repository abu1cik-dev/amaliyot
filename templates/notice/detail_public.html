{% extends "base.html" %}

{% block title %}
    {{ notice.title }}
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-sm">

        <!-- HEADER -->
        <div class="card-header d-flex justify-content-between align-items-center">
            <h4 class="mb-0">ğŸ“Œ {{ notice.title }}</h4>

            {% if request.user.is_authenticated and request.user == notice.owner %}
                <span class="badge bg-warning text-dark">ğŸ‘‘ Owner</span>
            {% elif notice.is_public %}
                <span class="badge bg-success">ğŸŒ Public</span>
            {% else %}
                <span class="badge bg-secondary">ğŸ” Private</span>
            {% endif %}
        </div>

        <!-- BODY -->
        <div class="card-body">
            <p class="text-muted mb-2">
                ğŸ•’ Yaratilgan sana: {{ notice.created_at|date:"Y-m-d H:i" }}
            </p>
            <hr>
            <div class="notice-text" style="white-space: pre-line;">
                {{ notice.main_text }}
            </div>
        </div>

    </div>

  
<!-- COPY LINK SCRIPT -->
{% if notice.is_public %}
<script>
function copyLink() {
    const link = "{{ request.scheme }}://{{ request.get_host }}{% url 'notice_public' notice.public_id %}";
    navigator.clipboard.writeText(link).then(() => {
        alert("âœ… Public link nusxalandi!");
    });
}
</script>
{% endif %}

{% endblock %}
